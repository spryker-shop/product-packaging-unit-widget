{% extends template('widget') %}

{% define data = {
    product: _widget.product,
    quantityOptions: _widget.quantityOptions,
    salesUnits: _widget.salesUnits | default([]),
    leadProductSalesUnits: _widget.leadProductSalesUnits | default([]),
    productPackagingUnit: _widget.productPackagingUnit,
    isAddToCartDisabled: _widget.isAddToCartDisabled | default(false),
    isAmountVariable: _widget.productPackagingUnit.isAmountVariable | default(false),
    packagingUnitIsSelfLead: _widget.packagingUnitIsSelfLead,
    jsonScheme: _widget.jsonScheme | default,
    minQuantityInBaseUnit: _widget.minQuantityInBaseUnit | default(1),
    minQuantityInSalesUnits: _widget.minQuantityInSalesUnits | default(1),
} %}

{% block body %}
    {% include molecule('packaging-unit-quantity-selector', 'ProductPackagingUnitWidget') with {
        data: {
            json: data.jsonScheme,
            product: data.product,
            quantityOptions: data.quantityOptions,
            salesUnits: data.salesUnits,
            leadProductSalesUnits: data.leadProductSalesUnits,
            productPackagingUnit: data.productPackagingUnit,
            isAddToCartDisabled: data.isAddToCartDisabled,
            packagingUnitIsAmountVariable: data.packagingUnitIsAmountVariable,
            packagingUnitIsSelfLead: data.packagingUnitIsSelfLead,
            minQuantityInBaseUnit: data.minQuantityInBaseUnit,
            minQuantityInSalesUnits: data.minQuantityInSalesUnits,
        },
    } only %}
{% endblock body %}
